<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cluster pixels together using the adespatial::constr.hclust algorithm. — constrained_hclust • ReefPartitionUniversal</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cluster pixels together using the adespatial::constr.hclust algorithm. — constrained_hclust"><meta name="description" content="Take a dataframe of pixels containing additional_variable_cols
values and edges between pixels in the dataframe and cluster using the
constr.hclust algorithm. This clustering is performed bottom-up based on a
combined distance matrix of geographic and additional_variable_cols distances
Only pixels connected by edges are able to cluster together. For additional
information see insert citation/link. If pixels contains over 30,000
observations then interpolation will be used to reduce RAM usage. This process
randomly samples 30,000 for clustering and assigns clusters to the remaining
pixels using nearest neighbour interpolation."><meta property="og:description" content="Take a dataframe of pixels containing additional_variable_cols
values and edges between pixels in the dataframe and cluster using the
constr.hclust algorithm. This clustering is performed bottom-up based on a
combined distance matrix of geographic and additional_variable_cols distances
Only pixels connected by edges are able to cluster together. For additional
information see insert citation/link. If pixels contains over 30,000
observations then interpolation will be used to reduce RAM usage. This process
randomly samples 30,000 for clustering and assigns clusters to the remaining
pixels using nearest neighbour interpolation."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ReefPartitionUniversal</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/workflow.html">Partitioning workflow using GBRMPA data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cluster pixels together using the adespatial::constr.hclust algorithm.</h1>

      <div class="d-none name"><code>constrained_hclust.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Take a dataframe of pixels containing <code>additional_variable_cols</code>
values and edges between pixels in the dataframe and cluster using the
constr.hclust algorithm. This clustering is performed bottom-up based on a
combined distance matrix of geographic and <code>additional_variable_cols</code> distances
Only pixels connected by <code>edges</code> are able to cluster together. For additional
information see <strong>insert citation/link</strong>. If pixels contains over 30,000
observations then interpolation will be used to reduce RAM usage. This process
randomly samples 30,000 for clustering and assigns clusters to the remaining
pixels using nearest neighbour interpolation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">constrained_hclust</span><span class="op">(</span></span>
<span>  <span class="va">pixels</span>,</span>
<span>  <span class="va">edges</span>,</span>
<span>  x_col <span class="op">=</span> <span class="st">"X_standard"</span>,</span>
<span>  y_col <span class="op">=</span> <span class="st">"Y_standard"</span>,</span>
<span>  additional_variable_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"depth_standard"</span><span class="op">)</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"UNIQUE_ID"</span>,</span>
<span>  habitat_col <span class="op">=</span> <span class="st">"habitat"</span>,</span>
<span>  distance_method <span class="op">=</span> <span class="st">"manhattan"</span>,</span>
<span>  distance_alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  beta <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  n_pixels <span class="op">=</span> <span class="fl">204</span>,</span>
<span>  n_clust <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">pixels</span><span class="op">)</span><span class="op">/</span><span class="va">n_pixels</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"ward.D2"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pixels">pixels<a class="anchor" aria-label="anchor" href="#arg-pixels"></a></dt>
<dd><p>data.frame. Contains values for X and Y coordinates, as well as
<code>additional_variable_cols</code>.</p></dd>


<dt id="arg-edges">edges<a class="anchor" aria-label="anchor" href="#arg-edges"></a></dt>
<dd><p>matrix. Matrix containing edges between pixels in <code>pixels</code>.</p></dd>


<dt id="arg-x-col">x_col<a class="anchor" aria-label="anchor" href="#arg-x-col"></a></dt>
<dd><p>character. Name of the column holding X coordinates. Default = "X_standard".</p></dd>


<dt id="arg-y-col">y_col<a class="anchor" aria-label="anchor" href="#arg-y-col"></a></dt>
<dd><p>character. Name of the column holding Y coordinates. Default = "Y_standard".</p></dd>


<dt id="arg-additional-variable-cols">additional_variable_cols<a class="anchor" aria-label="anchor" href="#arg-additional-variable-cols"></a></dt>
<dd><p>character vector. Names of additional columns
to contribute to the distance matrix. Default = c("depth_standard").</p></dd>


<dt id="arg-id-col">id_col<a class="anchor" aria-label="anchor" href="#arg-id-col"></a></dt>
<dd><p>character. Column holding ID value for the target reef
(attached to the site_id values on output). Default = "UNIQUE_ID".</p></dd>


<dt id="arg-habitat-col">habitat_col<a class="anchor" aria-label="anchor" href="#arg-habitat-col"></a></dt>
<dd><p>character. Column holding unique habitat values
(attached to <code>id_col</code> value and site_id values on output). Default = "habitat".</p></dd>


<dt id="arg-distance-method">distance_method<a class="anchor" aria-label="anchor" href="#arg-distance-method"></a></dt>
<dd><p>character. Distance matrix creation method. Default =
"manhattan" (see dist()).</p></dd>


<dt id="arg-distance-alpha">distance_alpha<a class="anchor" aria-label="anchor" href="#arg-distance-alpha"></a></dt>
<dd><p>float numeric. Weighting applied to <code>additional_variable_cols</code>
distance matrix when combining with geographic distances. (1 - alpha) weighting
is applied to the geographic distance matrix. Default = 0.5 (symmetric weighting).</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>float numeric. Beta parameter used by adespatial::constr.hclust.
Parameter value is only used if <code>method</code> == "flexible". Default = -1.</p></dd>


<dt id="arg-n-pixels">n_pixels<a class="anchor" aria-label="anchor" href="#arg-n-pixels"></a></dt>
<dd><p>integer numeric. Desired number of pixels in resulting clusters.
Used to calculate n_clust (number of output clusters). Value only used in
n_clust specification. Default = 204.</p></dd>


<dt id="arg-n-clust">n_clust<a class="anchor" aria-label="anchor" href="#arg-n-clust"></a></dt>
<dd><p>integer numeric. Number of clusters in result output. (Point to
cut hierarchical clustering tree). Default = (round(nrow(pixels) / n_pixels))
(dividing habitat into clusters containing an average of 200 pixels).</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>character. Clustering method to be applied. See adespatial::constr.hclust()
for more details. Default = "ward.D2".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data.frame of pixels with allocated site_ids based on cluster outputs.
<code>site_id</code> values are a combination of the <code>id_col</code> value, <code>habitat_col</code> value
and the cluster allocation.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vanessa Haller-Bull, Benjamin Grier, Takuya Iwanaga.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

